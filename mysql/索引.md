# 索引分类
## 聚簇索引 与 非聚簇索引
+ 聚簇索引 与 非聚簇索引主要是从索引数据存储规则划分的两类索引,InnoDB 主键使用的是聚簇索引，MyISAM 不管是主键索引，还是二级索引使用的都是非聚簇索引。
+ 聚集索引与非聚集索引的区别是：数据存储的物理顺序和逻辑顺序是否一致
  - 聚簇索引:索引树的每个叶子节点都存放了这一行的全部记录,即整个表的数据都存放在这个索引树上面,所以数据存储的物理顺序和逻辑顺序一致,所以一个表也只能有一个聚簇索引
  - 非聚簇索引:数据与索引单独存储,索引树的叶子节点只存放该条记录的磁盘地址,数据存储位置是随机的
  - 因为聚簇索引物理顺序与逻辑顺序一致的特性,聚簇索引特别适合范围查询
  - InnoDB 的主键索引是聚簇索引,其他的索引都是非聚簇索引(覆盖索引除外),保存的值都是主键索引的值,所以单纯使用二级索引定位数据实际需要两次索引查询,第一次查询出主键值,第二次查询出记录数据

参考:https://juejin.cn/post/6844903845554814983

## 覆盖索引
+ 覆盖索引是一种特殊用途的索引,创建索引时让索引的组成覆盖查询语句所需的所有字段,这样查询就只会走索引而不进行磁盘访问
+ 因为聚簇索引的特性,覆盖索引对innoDB引擎特别有用


# 底层原理
## 索引为什么使用B+树而不使用红黑树或者二叉树
+ B+树是针对磁盘的加载特性专门为数据库索引创造的数据结构,关系型数据库数据量通常很大,有时候索引并不能完全存储在内存,所以在进行索引比较的时候还可能进行磁盘加载索引
+ 磁盘加载都是按照块的方式加载的,而且还有预加载机制,实现时B+树的每个节点都是一个块,方便每次IO都能加载出一个索引节点的数据.二叉树和红黑树每个节点的数据太少,树的高度也比较高.每次IO操作加载的索引数据比较少,加载的次数也比较多
+ 此外为了减少磁盘加载的次数最好是一次IO能尽可能多的加载索引数据.所以一个索引树节点也应该的保存尽可能多的索引数据,B树的节点保存有数据,会导致节点能保存的索引变少,所以使用 B+ 树

# Hash索引和B树索引的区别
+ Hash索引对范围查询没有优化效果
+ Hash索引对order by没有优化效果
+ Hash索引对联合索引不存在最左匹配原则，查询时必须使用联合索引的全部列 